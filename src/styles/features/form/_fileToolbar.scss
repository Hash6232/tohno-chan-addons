form[name="post"] {
  /* Hide legacy spoiler checkbox */
  td > input[name="spoiler"],
  td > input[name="spoiler"] ~ label {
    display: none;
  }

  /* Hide clear button when no file is attached */
  &:not(.has-attachment) {
    .btn-container:has(.remove-file) {
      display: none;
    }
  }

  /* Hide preview and spoiler buttons when no image is attached */
  &:not(.has-image) {
    .btn-container:has(.preview-image),
    .btn-container:has(.spoiler-image) {
      display: none;
    }
  }

  /* Vertically center toolbar in main form */
  &:not(#quick-reply) {
    .file-toolbar {
      padding-top: 2px;
    }
  }

  .file-toolbar {
    display: flex;
    justify-content: end;
    align-items: center;
    gap: 4px;
  }

  /* Center x vertically */
  .remove-file {
    padding-bottom: 2px;
  }
}

/* Reduce offset for toolbar */
#quick-reply {
  tr td:nth-child(2).spoiler {
    padding-right: 2px;
  }
}

#image-preview-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.3);
  z-index: 101;

  img {
    max-width: 100%;
    max-height: 100%;
  }
}
