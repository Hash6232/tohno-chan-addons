!function(){"use strict";const e=()=>{(()=>{const e=document.querySelector("#quick-reply textarea[name='body']"),t=document.querySelector("#quick-reply input#upload_file");null==e||e.addEventListener("paste",(e=>{var n;const i=null===(n=e.clipboardData)||void 0===n?void 0:n.items;if(!i||i.length>1)return;const l=i[0];if(!l.type.startsWith("image/"))return;const o=l.getAsFile();if(!o||!t)return;const r=new DataTransfer;r.items.add(o),t.files=r.files}))})(),(()=>{const e=document.querySelector("#quick-reply"),t=document.querySelector("#quick-reply input#upload_file"),n=document.querySelector("#quick-reply tr#upload");if(!t||!n)return;t.style.display="none",t.insertAdjacentHTML("afterend",'<input id="upload_filename" type="text" name="filename" placeholder="No file selected." />');const i=document.getElementById("upload_filename");e&&i&&(i.addEventListener("click",(()=>{var e,n;(null!==(n=null===(e=t.files)||void 0===e?void 0:e.length)&&void 0!==n?n:1)>0||t.click()})),t.addEventListener("change",(()=>{var e,n;if((null!==(n=null===(e=t.files)||void 0===e?void 0:e.length)&&void 0!==n?n:0)<1)return;i.value=t.files[0].name;const l=i.value.length;i.setSelectionRange(l,l)})),e.addEventListener("submit",(()=>{var e,n;if((null!==(n=null===(e=t.files)||void 0===e?void 0:e.length)&&void 0!==n?n:0)<1)return;const l=t.files[0],o=i.value,r=new File([l],o,{type:l.type,lastModified:l.lastModified}),d=new DataTransfer;d.items.add(r),t.files=d.files})))})()};try{((e,t,n=!1)=>{if(document.body.querySelector(e))return void t();new MutationObserver(((i,l)=>{for(const o of i)for(const i of o.addedNodes)if(1===i.nodeType&&i.matches(e))return t(),void(n&&l.disconnect())})).observe(document.body,{childList:!0,subtree:!0})})("#quick-reply",e)}catch(e){console.log("[quick-reply]",e)}}();
//# sourceMappingURL=quick-reply.js.map
